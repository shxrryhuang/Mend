(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{3416:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),n=s(2115),r=s(1934),i=s(5976);let o={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.6}}};function c(){let[e,t]=(0,n.useState)(""),[s,c]=(0,n.useState)({}),[l,d]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),u=async()=>{if(e.trim()){d(!0),p("");try{let a=await fetch("/api/parse-task",{method:"POST",body:JSON.stringify({input:e}),headers:{"Content-Type":"application/json"}});if(!a.ok){let e=await a.text();throw Error("Server Error: ".concat(a.status," â€“ ").concat(e))}let n=await a.json(),r=n.date||new Date().toISOString().split("T")[0],i=s[r]||[];c({...s,[r]:[...i,...n.todos]}),h(r),t("")}catch(e){console.error("Failed to parse task:",e),p(e.message||"Unexpected error occurred")}finally{d(!1)}}},y=async e=>{let t=s[e].map((e,t)=>new i.fzL({children:[new i.NTc({text:"Task ".concat(t+1,": ").concat(e.task),bold:!0}),new i.NTc({text:"\nTime: ".concat(e.time)}),new i.NTc({text:"\nCategory: ".concat(e.category)}),new i.NTc({text:"\nPriority: ".concat(e.priority)}),new i.NTc({text:"\n\n"})]})),a=new i.yoT({sections:[{properties:{},children:[new i.fzL({children:[new i.NTc({text:"Tasks for ".concat(e),bold:!0,size:28})]}),...t]}]}),n=await i.ND6.toBlob(a),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="tasks-".concat(e,".docx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)};return(0,a.jsx)("main",{className:"min-h-screen p-8 bg-gradient-to-b from-white to-teal-100 text-gray-900",children:(0,a.jsxs)(r.P.section,{className:"max-w-2xl mx-auto text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-teal-700 mb-6",children:"\uD83D\uDCDD Journal - AI To-Do List"}),(0,a.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Describe what you need to do in plain language. We'll convert it into structured tasks."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-4",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"e.g., finish report by 3pm",className:"px-4 py-2 border rounded w-full sm:w-auto"}),(0,a.jsx)("button",{onClick:u,disabled:l,className:"px-6 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 transition",children:l?"Parsing...":"Add Task"})]}),m&&(0,a.jsx)("p",{className:"text-red-600 mb-4",children:m}),Object.keys(s).sort((e,t)=>t.localeCompare(e)).map(e=>(0,a.jsxs)("div",{className:"mb-10 text-left",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-teal-800",children:["Tasks for ",e]}),(0,a.jsx)("button",{onClick:()=>y(e),className:"text-sm bg-gray-300 hover:bg-gray-400 px-3 py-1 rounded",children:"Export"})]}),(0,a.jsx)("ul",{className:"space-y-4 mt-4",children:s[e].map((e,t)=>(0,a.jsxs)("li",{className:"bg-white p-4 rounded shadow",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Task:"})," ",e.task]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Time:"})," ",e.time]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Category:"})," ",e.category]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Priority:"})," ",e.priority]})]},t))})]},e))]})})}},9891:(e,t,s)=>{Promise.resolve().then(s.bind(s,3416))}},e=>{var t=t=>e(e.s=t);e.O(0,[489,934,134,441,684,358],()=>t(9891)),_N_E=e.O()}]);